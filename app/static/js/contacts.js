webpackJsonp([1],{"7UXC":function(e,t){},CL3a:function(e,t){},Fs4d:function(e,t){},M0ut:function(e,t){},MJyj:function(e,t){},NtCe:function(e,t){e.exports=window.MTOOL},ZleV:function(e,t){},aZQy:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("7+uW"),n=a("NtCe"),i=a.n(n),o=(a("MJyj"),{render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]});var r=a("VU/8")({name:"App",data:function(){return{}},mounted:function(){}},o,!1,function(e){a("CL3a")},null,null).exports,u=a("/ocq"),l=a("//Fk"),p=a.n(l),d=a("lHA8"),c=a.n(d),m=a("Gu7T"),h=a.n(m),y=a("Xxa5"),f=a.n(y),v=a("exGp"),N=a.n(v),g=(a("3Lne"),a("SSsa")),_=(a("FO5P"),a("woHG")),b=(a("cZ0s"),a("fIxc")),k=(a("RIEG"),a("zjGD")),x=a("uKeQ"),C=a.n(x),w=a("mLlr"),A=a.n(w);s.a.use(g.a).use(_.a).use(b.a).use(k.a);var S={name:"Contacts",props:{groups:Array,letters:Array},data:function(){return{result:[]}},mounted:function(){var e=this;this.$nextTick(function(){console.log("refs:",e.$refs)})},updated:function(){},methods:{toHook:function(e){var t=this.$refs["group-"+e][0],a=Math.max(0,i.a.elementPosition(t).y-44);t&&t.children.length&&(window.scrollTo(0,a),console.log("scrollToP:",document.body.scrollTop))}}},E={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cts-content"},[a("van-checkbox-group",{model:{value:e.result,callback:function(t){e.result=t},expression:"result"}},e._l(e.groups,function(t){return a("ul",{key:t.letter,ref:"group-"+t.letter,refInFor:!0,staticClass:"group",class:"group-"+t.letter},e._l(t.data,function(t){return a("li",{key:t.id,staticClass:"list-item"},[a("van-checkbox",{key:t.id,attrs:{shape:"square",name:t.id}},[a("div",{staticClass:"item-img"},[a("img",{attrs:{src:t.photos&&t.photos[0]&&t.photos[0].value,alt:""}})]),e._v(" "),a("div",{staticClass:"item-name"},[e._v(e._s(t.displayName))])])],1)}))})),e._v(" "),a("div",{staticClass:"contacts-hook"},e._l(e.letters,function(t){return a("span",{key:t,staticClass:"hook-item",on:{click:function(a){e.toHook(t)}}},[e._v("\n      "+e._s(t)+"\n    ")])}))],1)},staticRenderFns:[]};var B=a("VU/8")(S,E,!1,function(e){a("ZleV"),a("M0ut")},"data-v-0ad399ea",null).exports;s.a.use(g.a).use(_.a).use(b.a).use(k.a);var M={name:"Index",components:{Contacts:B},data:function(){return{list:[{id:"1",displayName:"aname",displayName_py:"",phoneNumbers:[{id:"1",value:"10086"},{id:"2",value:"10010"}],photos:[{id:"1",value:""}]},{id:"2",displayName:"吃吃",displayName_py:"",phoneNumbers:[{id:"1",value:"1008601"}],photos:[{id:"1",value:""}]},{id:"3",displayName:"安安1",displayName_py:"",phoneNumbers:[{id:"1",value:"1008602"}],photos:[{id:"1",value:""}]},{id:"4",displayName:"宝宝",displayName_py:"",phoneNumbers:[{id:"1",value:"1008603"}],photos:[{id:"1",value:""}]},{id:"5",displayName:"ename5",displayName_py:"",phoneNumbers:[{id:"1",value:"1008600"}],photos:[{id:"1",value:""}]},{id:"6",displayName:"fname6",displayName_py:"",phoneNumbers:[{id:"1",value:"1008600"}],photos:[{id:"1",value:""}]},{id:"7",displayName:"name7",displayName_py:"",phoneNumbers:[{id:"1",value:"1008600"}],photos:[{id:"1",value:""}]},{id:"8",displayName:"name8",displayName_py:"",phoneNumbers:[{id:"1",value:"1008600"}],photos:[{id:"1",value:""}]},{id:"9",displayName:"name9",displayName_py:"",phoneNumbers:[{id:"1",value:"1008600"}],photos:[{id:"1",value:""}]},{id:"10",displayName:"name10",displayName_py:"",phoneNumbers:[{id:"1",value:"1008600"}],photos:[{id:"1",value:""}]},{id:"11",displayName:"name11",displayName_py:"",phoneNumbers:[{id:"1",value:"1008600"}],photos:[{id:"1",value:""}]},{id:"12",displayName:"name12",displayName_py:"",phoneNumbers:[{id:"1",value:"1008600"}],photos:[{id:"1",value:""}]},{id:"13",displayName:"44name13",displayName_py:"",phoneNumbers:[{id:"1",value:"1008600"}],photos:[{id:"1",value:""}]},{id:"14",displayName:"44name13",displayName_py:"",phoneNumbers:[{id:"1",value:"1008600"}],photos:[{id:"1",value:""}]},{id:"15",displayName:"44name13",displayName_py:"",phoneNumbers:[{id:"1",value:"1008600"}],photos:[{id:"1",value:""}]},{id:"16",displayName:"44name13",displayName_py:"",phoneNumbers:[{id:"1",value:"1008600"}],photos:[{id:"1",value:""}]}],groups:[],letters:this.generateChars(),msg:"This is DIC test message."}},mounted:function(){var e=this;this.$nextTick(function(){i.a.plusReady(function(){e.initList()})})},methods:{goBack:function(){C.a.back()},initList:function(){var e=N()(f.a.mark(function e(){var t,a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!i.a.isPlus){e.next=17;break}return e.prev=1,e.next=4,this.getAddressBook();case 4:return t=e.sent,e.next=7,this.extractAddressBook(t);case 7:(a=e.sent).length&&(this.list=a),this.groups=this.pySegSort(this.list,this.letters),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0);case 15:e.next=18;break;case 17:this.groups=this.pySegSort(this.list,this.letters);case 18:console.log("pinyin:"+this.pinyin("123"));case 19:case"end":return e.stop()}},e,this,[[1,12]])}));return function(){return e.apply(this,arguments)}}(),pySegSort:function(e,t){var a=this,s={},n=[];return t.length&&e.length?(t.forEach(function(t){s={letter:t,data:[]},e.forEach(function(e){var n=e.displayName_py[0]||a.pinyin(e.displayName)[0];/^[A-Za-z]$/.test(n)||"#"!==t||s.data.push(e),n.toUpperCase()===t&&s.data.push(e)}),s.data.length&&s.data.sort(function(e,t){var s=e.displayName_py||a.pinyin(e.displayName),n=t.displayName_py||a.pinyin(e.displayName);return s.localeCompare(n)}),n.push(s)}),console.log("pySegSort result",n),n):n},pinyin:function(e){return A()(e,{style:A.a.STYLE_NORMAL})[0][0][0]||""},generateChars:function(){for(var e=[],t=65;t<91;t++)e.push(String.fromCharCode(t));return e.push("#"),e},send:function(){var e=this.$refs.contacts.result;if(i.a.isPlus){var t=plus.messaging.createMessage(plus.messaging.TYPE_SMS);t.to=this.getPhoneNumbersById(e),t.body=this.msg,plus.messaging.sendMessage(t)}},getPhoneNumbersById:function(e){var t=[];return e.length?(this.list.forEach(function(a,s){-1!==e.indexOf(a.id)&&a.phoneNumbers.length&&a.phoneNumbers.forEach(function(e,a){t.push(e.value)})}),t=[].concat(h()(new c.a(t)))):t},getAddressBook:function(){return new p.a(function(e,t){plus.contacts.getAddressBook(plus.contacts.ADDRESSBOOK_PHONE,function(t){console.log("Get address book success!"),e(t)},t)})},extractAddressBook:function(e){var t=this;return new p.a(function(a,s){e.find(null,function(e){var s=[];e.forEach(function(e){var a={};a.id=e.id,a.displayName=e.displayName,a.displayName_py=t.pinyin(e.displayName),a.phoneNumbers=e.phoneNumbers,a.photos=e.photos,s.push(a),console.log("contacts item displayName:"+e.displayName)}),a(s),console.log("forEach list"+s.length)},s,{multiple:!0})})}}},T={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"page-content"},[t("van-nav-bar",{attrs:{title:"标题","left-text":"活力加速",fixed:"","left-arrow":""},on:{"click-left":this.goBack}}),this._v(" "),t("div",{staticClass:"list-content"},[t("Contacts",{ref:"contacts",attrs:{groups:this.groups,letters:this.letters}}),this._v(" "),t("div",{staticClass:"footer"},[t("van-button",{attrs:{size:"large"},on:{click:this.send}},[this._v("发送")])],1)],1)],1)},staticRenderFns:[]};var P=a("VU/8")(M,T,!1,function(e){a("Fs4d"),a("tBQA")},"data-v-516baaa2",null).exports;s.a.use(u.a);var F=new u.a({routes:[{path:"/",name:"Index",component:P}]});s.a.config.productionTip=!1,new s.a({el:"#app",router:F,components:{App:r},template:"<App/>"})},f4F5:function(e,t){},tBQA:function(e,t){},uKeQ:function(e,t){e.exports=window.mui},znX2:function(e,t){}},["aZQy"]);
//# sourceMappingURL=contacts.js.map