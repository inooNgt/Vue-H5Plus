webpackJsonp([1],{"+Xtt":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=l(a("SSsa")),n=l(a("woHG")),i=l(a("fIxc")),o=l(a("zjGD"));a("3Lne"),a("FO5P"),a("cZ0s"),a("RIEG");var u=l(a("7+uW")),r=l(a("NtCe"));l(a("uKeQ"));function l(e){return e&&e.__esModule?e:{default:e}}u.default.use(s.default).use(n.default).use(i.default).use(o.default),t.default={name:"Contacts",props:{groups:Array,letters:Array},data:function(){return{result:[]}},mounted:function(){var e=this;this.$nextTick(function(){console.log("refs:",e.$refs)})},updated:function(){},methods:{toHook:function(e){var t=this.$refs["group-"+e][0],a=Math.max(0,r.default.elementPosition(t).y-44);t&&t.children.length&&(window.scrollTo(0,a),console.log("scrollToP:",document.body.scrollTop))}}}},"+eK8":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s,n=a("NtCe");(s=n)&&s.__esModule;a("MJyj"),t.default={name:"App",data:function(){return{}},mounted:function(){}}},"6Gt/":function(e,t,a){"use strict";var s={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};t.a=s},"7UXC":function(e,t){},"87jc":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=o(a("7+uW")),n=o(a("/ocq")),i=o(a("Znz9"));function o(e){return e&&e.__esModule?e:{default:e}}s.default.use(n.default),t.default=new n.default({routes:[{path:"/",name:"Index",component:i.default}]})},BZsZ:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("+Xtt"),n=a.n(s);for(var i in s)"default"!==i&&function(e){a.d(t,e,function(){return s[e]})}(i);var o=a("XzDf");var u=function(e){a("ZleV"),a("M0ut")},r=a("VU/8")(n.a,o.a,!1,u,"data-v-0ad399ea",null);t.default=r.exports},CL3a:function(e,t){},M0ut:function(e,t){},MJyj:function(e,t){},NtCe:function(e,t){e.exports=window.MTOOL},QOjJ:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("+eK8"),n=a.n(s);for(var i in s)"default"!==i&&function(e){a.d(t,e,function(){return s[e]})}(i);var o=a("6Gt/");var u=function(e){a("CL3a")},r=a("VU/8")(n.a,o.a,!1,u,null,null);t.default=r.exports},RPOa:function(e,t){},VJwD:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=v(a("//Fk")),n=v(a("lHA8")),i=v(a("Gu7T")),o=v(a("Xxa5")),u=v(a("exGp")),r=v(a("SSsa")),l=v(a("woHG")),d=v(a("fIxc")),c=v(a("zjGD"));a("3Lne"),a("FO5P"),a("cZ0s"),a("RIEG");var p=v(a("7+uW")),f=v(a("NtCe")),m=v(a("uKeQ")),h=v(a("BZsZ"));function v(e){return e&&e.__esModule?e:{default:e}}var y=a("mLlr");p.default.use(r.default).use(l.default).use(d.default).use(c.default),t.default={name:"Index",components:{Contacts:h.default},data:function(){return{list:[{id:"1",displayName:"aname",displayName_py:"",phoneNumbers:[{id:"1",value:"10086"},{id:"2",value:"10010"}],photos:[{id:"1",value:""}]},{id:"2",displayName:"吃吃",displayName_py:"",phoneNumbers:[{id:"1",value:"1008601"}],photos:[{id:"1",value:""}]},{id:"3",displayName:"安安1",displayName_py:"",phoneNumbers:[{id:"1",value:"1008602"}],photos:[{id:"1",value:""}]},{id:"4",displayName:"宝宝",displayName_py:"",phoneNumbers:[{id:"1",value:"1008603"}],photos:[{id:"1",value:""}]},{id:"5",displayName:"ename5",displayName_py:"",phoneNumbers:[{id:"1",value:"1008600"}],photos:[{id:"1",value:""}]},{id:"6",displayName:"fname6",displayName_py:"",phoneNumbers:[{id:"1",value:"1008600"}],photos:[{id:"1",value:""}]},{id:"7",displayName:"name7",displayName_py:"",phoneNumbers:[{id:"1",value:"1008600"}],photos:[{id:"1",value:""}]},{id:"8",displayName:"name8",displayName_py:"",phoneNumbers:[{id:"1",value:"1008600"}],photos:[{id:"1",value:""}]},{id:"9",displayName:"name9",displayName_py:"",phoneNumbers:[{id:"1",value:"1008600"}],photos:[{id:"1",value:""}]},{id:"10",displayName:"name10",displayName_py:"",phoneNumbers:[{id:"1",value:"1008600"}],photos:[{id:"1",value:""}]},{id:"11",displayName:"name11",displayName_py:"",phoneNumbers:[{id:"1",value:"1008600"}],photos:[{id:"1",value:""}]},{id:"12",displayName:"name12",displayName_py:"",phoneNumbers:[{id:"1",value:"1008600"}],photos:[{id:"1",value:""}]},{id:"13",displayName:"44name13",displayName_py:"",phoneNumbers:[{id:"1",value:"1008600"}],photos:[{id:"1",value:""}]},{id:"14",displayName:"44name13",displayName_py:"",phoneNumbers:[{id:"1",value:"1008600"}],photos:[{id:"1",value:""}]},{id:"15",displayName:"44name13",displayName_py:"",phoneNumbers:[{id:"1",value:"1008600"}],photos:[{id:"1",value:""}]},{id:"16",displayName:"44name13",displayName_py:"",phoneNumbers:[{id:"1",value:"1008600"}],photos:[{id:"1",value:""}]}],groups:[],letters:this.generateChars(),msg:"This is DIC test message."}},mounted:function(){var e=this;this.$nextTick(function(){f.default.plusReady(function(){e.initList()})})},methods:{goBack:function(){m.default.back()},initList:function(){var e=(0,u.default)(o.default.mark(function e(){var t,a;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!f.default.isPlus){e.next=17;break}return e.prev=1,e.next=4,this.getAddressBook();case 4:return t=e.sent,e.next=7,this.extractAddressBook(t);case 7:(a=e.sent).length&&(this.list=a),this.groups=this.pySegSort(this.list,this.letters),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0);case 15:e.next=18;break;case 17:this.groups=this.pySegSort(this.list,this.letters);case 18:console.log("pinyin:"+this.pinyin("123"));case 19:case"end":return e.stop()}},e,this,[[1,12]])}));return function(){return e.apply(this,arguments)}}(),pySegSort:function(e,t){var a=this,s={},n=[];return t.length&&e.length?(t.forEach(function(t){s={letter:t,data:[]},e.forEach(function(e){var n=e.displayName_py[0]||a.pinyin(e.displayName)[0];/^[A-Za-z]$/.test(n)||"#"!==t||s.data.push(e),n.toUpperCase()===t&&s.data.push(e)}),s.data.length&&s.data.sort(function(e,t){var s=e.displayName_py||a.pinyin(e.displayName),n=t.displayName_py||a.pinyin(e.displayName);return s.localeCompare(n)}),n.push(s)}),console.log("pySegSort result",n),n):n},pinyin:function(e){return y(e,{style:y.STYLE_NORMAL})[0][0][0]||""},generateChars:function(){for(var e=[],t=65;t<91;t++)e.push(String.fromCharCode(t));return e.push("#"),e},send:function(){var e=this.$refs.contacts.result;if(f.default.isPlus){var t=plus.messaging.createMessage(plus.messaging.TYPE_SMS);t.to=this.getPhoneNumbersById(e),t.body=this.msg,plus.messaging.sendMessage(t)}},getPhoneNumbersById:function(e){var t=[];return e.length?(this.list.forEach(function(a,s){-1!==e.indexOf(a.id)&&a.phoneNumbers.length&&a.phoneNumbers.forEach(function(e,a){t.push(e.value)})}),t=[].concat((0,i.default)(new n.default(t)))):t},getAddressBook:function(){return new s.default(function(e,t){plus.contacts.getAddressBook(plus.contacts.ADDRESSBOOK_PHONE,function(t){console.log("Get address book success!"),e(t)},t)})},extractAddressBook:function(e){var t=this;return new s.default(function(a,s){e.find(null,function(e){var s=[];e.forEach(function(e){var a={};a.id=e.id,a.displayName=e.displayName,a.displayName_py=t.pinyin(e.displayName),a.phoneNumbers=e.phoneNumbers,a.photos=e.photos,s.push(a),console.log("contacts item displayName:"+e.displayName)}),a(s),console.log("forEach list"+s.length)},s,{multiple:!0})})}}}},XzDf:function(e,t,a){"use strict";var s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cts-content"},[a("van-checkbox-group",{model:{value:e.result,callback:function(t){e.result=t},expression:"result"}},e._l(e.groups,function(t){return a("ul",{key:t.letter,ref:"group-"+t.letter,refInFor:!0,staticClass:"group",class:"group-"+t.letter},e._l(t.data,function(t){return a("li",{key:t.id,staticClass:"list-item"},[a("van-checkbox",{key:t.id,attrs:{shape:"square",name:t.id}},[a("div",{staticClass:"item-img"},[a("img",{attrs:{src:t.photos&&t.photos[0]&&t.photos[0].value,alt:""}})]),e._v(" "),a("div",{staticClass:"item-name"},[e._v(e._s(t.displayName))])])],1)}))})),e._v(" "),a("div",{staticClass:"contacts-hook"},e._l(e.letters,function(t){return a("span",{key:t,staticClass:"hook-item",on:{click:function(a){e.toHook(t)}}},[e._v("\n      "+e._s(t)+"\n    ")])}))],1)},staticRenderFns:[]};t.a=s},ZleV:function(e,t){},Znz9:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("VJwD"),n=a.n(s);for(var i in s)"default"!==i&&function(e){a.d(t,e,function(){return s[e]})}(i);var o=a("os8V");var u=function(e){a("RPOa"),a("sDVD")},r=a("VU/8")(n.a,o.a,!1,u,"data-v-cd54e3ea",null);t.default=r.exports},aZQy:function(e,t,a){"use strict";var s=o(a("7+uW")),n=o(a("QOjJ")),i=o(a("87jc"));function o(e){return e&&e.__esModule?e:{default:e}}s.default.config.productionTip=!1,new s.default({el:"#app",router:i.default,components:{App:n.default},template:"<App/>"})},f4F5:function(e,t){},os8V:function(e,t,a){"use strict";var s={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"page-content"},[t("van-nav-bar",{attrs:{title:"标题","left-text":"活力加速",fixed:"","left-arrow":""},on:{"click-left":this.goBack}}),this._v(" "),t("div",{staticClass:"list-content"},[t("Contacts",{ref:"contacts",attrs:{groups:this.groups,letters:this.letters}}),this._v(" "),t("div",{staticClass:"footer"},[t("van-button",{attrs:{size:"large"},on:{click:this.send}},[this._v("发送")])],1)],1)],1)},staticRenderFns:[]};t.a=s},sDVD:function(e,t){},uKeQ:function(e,t){e.exports=window.mui},znX2:function(e,t){}},["aZQy"]);
//# sourceMappingURL=contacts.js.map